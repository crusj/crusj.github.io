---
layout: post
title: linux sed使用
category: shell
tags: shell
---
# 文本替换程序——流替换工具sed(stream editor)
### 1. 替换第一个、所有、第N个
```bash
    text="wo shi zhangsan zhangsan zhangsan"

    #1.默认替换第一个 s/regular/replace
    echo $text | sed 's/zhangsan/lisi/'
    #wo shi lisi zhangsan zhangsan

    #2.替换所有 g s/regular/replace/g
    echo $text | sed 's/zhangsan/lisi/g'
    #wo shi lisi lisi lisi

    #3.替换某一个n s/regular/repalce/n
    echo $text | sed 's/zhangsan/lisi/2'
    #wo shi zhangsan lisi zhangsan

```
### 2.打印，替换指定行-n p
     text="wo shi zhangsan lisi\r
           wo shi zhangsan lance\r
           wo shi lisi     lance\r
           wo shi zhangsan lisi wangwu"

   1.打印含有zhangsan的行

{% asset_img 4290442876.png %}

   2.打印含有zhangsan或lisi的行

{% asset_img 2996910287.png %}

   3.打印指定行

{% asset_img 783257003.png %}

   4.替换某存在某个表达式，或不存在某个表达式的行

{% asset_img 2409106627.png %}

   5.替换某几行

{% asset_img 2409106627.png %}
   6.替换符合要求的几行(存在张三或李四)

   {% asset_img 2347006550.png %}

   7.多个正则选项命令e
    sed -e option1 -e option  file
   8.执行正则选项文件
    sed -f optionfile file
    optionfile
        option1
        option2
        ...
   9.使用标准输入-,用于测试特别有用
    sed option -

